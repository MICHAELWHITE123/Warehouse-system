# Функция просмотра остатков техники в отгрузках

## Описание
Добавлена новая функциональность для просмотра остатков техники на складе при создании отгрузок. Это позволяет пользователям видеть доступное оборудование в реальном времени непосредственно в процессе формирования отгрузочного листа.

## Что было добавлено

### 1. Новый сервис для подсчета остатков (`EquipmentService`)
- `getInventorySummary()` - получение остатков по категориям
- `getInventoryByLocation()` - получение остатков по местоположениям
- `getAvailableEquipmentDetails()` - детальная информация о доступном оборудовании

### 2. Компонент `InventoryOverview`
- **Компактный режим** для отображения в боковой панели формы отгрузки
- **Полный режим** с детальной информацией и фильтрацией
- Отображение статистики по:
  - Общему количеству техники
  - Доступной технике
  - Технике в работе
  - Технике на техническом обслуживании
- Группировка по категориям и местоположениям
- Поиск и фильтрация оборудования
- Возможность просмотра деталей конкретного оборудования

### 3. Интеграция в форму создания отгрузки (`ShipmentForm`)
- Добавлен компактный виджет остатков в левую боковую панель
- Связь с функцией просмотра деталей оборудования
- Возможность открыть детальное окно остатков

## Как использовать

### При создании отгрузки:
1. Откройте форму создания новой отгрузки
2. В левой боковой панели увидите виджет "Остатки на складе"
3. Компактный виджет показывает:
   - Общую статистику (всего, доступно, в работе, на ТО)
   - Топ-3 категории по количеству доступной техники
   - Кнопку "Подробнее" для открытия детального просмотра

### Детальный просмотр остатков:
1. Нажмите кнопку "Подробнее" в компактном виджете
2. Откроется модальное окно с детальной информацией:
   - Общая статистика по всему оборудованию
   - Вкладки "По категориям" и "По местоположениям"
   - Список всего доступного оборудования с поиском и фильтрацией
   - Возможность просмотра деталей конкретного оборудования

## Преимущества

1. **Информированность** - пользователь видит реальное состояние склада
2. **Удобство** - не нужно переключаться между разделами приложения
3. **Эффективность** - быстрый доступ к информации о доступности техники
4. **Предотвращение ошибок** - исключение попыток отгрузки недоступной техники

## Технические детали

### Файлы, которые были изменены:
- `src/database/services/equipmentService.ts` - добавлены методы подсчета остатков
- `src/components/InventoryOverview.tsx` - новый компонент (создан)
- `src/components/ShipmentForm.tsx` - интеграция виджета остатков
- `src/App.tsx` - передача функции просмотра оборудования

### Используемые UI компоненты:
- Card, Badge, Button, Input, Select - базовые компоненты
- Tabs - для переключения между группировками
- Dialog - для модального окна детального просмотра
- Icons от Lucide React

### Производительность:
- Остатки рассчитываются на лету из существующих данных
- Фильтрация происходит на клиентской стороне
- Компактный режим показывает только необходимую информацию
